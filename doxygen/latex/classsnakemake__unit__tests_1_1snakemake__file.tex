\hypertarget{classsnakemake__unit__tests_1_1snakemake__file}{}\doxysection{snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file Class Reference}
\label{classsnakemake__unit__tests_1_1snakemake__file}\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}


abstract representation of snakefile as a series of rules and python code chunks  




{\ttfamily \#include $<$snakemake\+\_\+file.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a5484f7623475b04ac44a995fb662c46e}\label{classsnakemake__unit__tests_1_1snakemake__file_a5484f7623475b04ac44a995fb662c46e}} 
\mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a5484f7623475b04ac44a995fb662c46e}{snakemake\+\_\+file}} ()
\begin{DoxyCompactList}\small\item\em default constructor \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_ae97079aace9387024e96b06c405f411d}{snakemake\+\_\+file}} (boost\+::shared\+\_\+ptr$<$ unsigned $>$ ptr)
\begin{DoxyCompactList}\small\item\em construct a snakemake file with an initialized counter \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a12fde0c600cb4fbb4d23edea68efe66e}{snakemake\+\_\+file}} (const \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}} \&obj)
\begin{DoxyCompactList}\small\item\em copy constructor \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a75af4c4c7927d70267481cb7915c8198}\label{classsnakemake__unit__tests_1_1snakemake__file_a75af4c4c7927d70267481cb7915c8198}} 
\mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a75af4c4c7927d70267481cb7915c8198}{$\sim$snakemake\+\_\+file}} ()  throw ()
\begin{DoxyCompactList}\small\item\em destructor \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_ae1eb72bbdb5f08d16c576aac78f621c0}{load\+\_\+everything}} (const boost\+::filesystem\+::path \&filename, const boost\+::filesystem\+::path \&base\+\_\+dir, std\+::map$<$ std\+::string, bool $>$ $\ast$exclude\+\_\+rules, bool verbose)
\begin{DoxyCompactList}\small\item\em load and parse snakemake pipeline \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_aad083e297205df231dd78d2cb93a1afa}{parse\+\_\+file}} (const std\+::vector$<$ std\+::string $>$ \&loaded\+\_\+lines, std\+::list$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$\+::iterator insertion\+\_\+point, const boost\+::filesystem\+::path \&filename, bool verbose)
\begin{DoxyCompactList}\small\item\em parse a snakemake file \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_aaa55fc451f722b94090f0f26f2671594}{load\+\_\+lines}} (const boost\+::filesystem\+::path \&filename, std\+::vector$<$ std\+::string $>$ $\ast$target) const
\begin{DoxyCompactList}\small\item\em load all lines from a file into memory \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a56f7c6a5fb4499edbbfd70df2a4bce3b}{detect\+\_\+known\+\_\+issues}} (std\+::map$<$ std\+::string, bool $>$ $\ast$exclude\+\_\+rules)
\begin{DoxyCompactList}\small\item\em report on internal discrepancies in the snakefile load results \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a79cfa9d4504725992bb3cd6f10168fe2}{resolve\+\_\+derived\+\_\+rules}} ()
\begin{DoxyCompactList}\small\item\em populate derived rules with base rule blocks \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_af59b77d2fd21c3bd0298b7b4cd23bd03}{print\+\_\+blocks}} (std\+::ostream \&out) const
\begin{DoxyCompactList}\small\item\em print block contents to stream \end{DoxyCompactList}\item 
const std\+::list$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$ \& \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a549735c89e4885eadbca1571fe5f8ab8}{get\+\_\+blocks}} () const
\begin{DoxyCompactList}\small\item\em get const access to internal block representation \end{DoxyCompactList}\item 
std\+::list$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$ \& \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a9fde24da88f8f51c78c7cbb5decd5cae}{get\+\_\+blocks}} ()
\begin{DoxyCompactList}\small\item\em get mutable access to internal block representation \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a670a12df840072527baf6dd9ca213f2e}{report\+\_\+single\+\_\+rule}} (const std\+::string \&rule\+\_\+name, std\+::ostream \&out) const
\begin{DoxyCompactList}\small\item\em report all code blocks but a single requested rule to file \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_afbca744278d82904afc974dfcabfd0f9}{fully\+\_\+resolved}} () const
\begin{DoxyCompactList}\small\item\em whether the object\textquotesingle{}s rules are unambiguously resolved \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a8517724241c35a7cdfb7ca8c91b993cc}{contains\+\_\+blockers}} () const
\begin{DoxyCompactList}\small\item\em whether the object\textquotesingle{}s rules contain any unresolved include directives \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_ad1515c0faa892aa1e1b66a98d81f43f6}{resolve\+\_\+with\+\_\+python}} (const boost\+::filesystem\+::path \&workspace, const boost\+::filesystem\+::path \&pipeline\+\_\+run\+\_\+dir, bool verbose, bool disable\+\_\+resolution)
\begin{DoxyCompactList}\small\item\em run the current rule set through python once \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a838976bc749d2644d78f9b7b51aba24d}{process\+\_\+python\+\_\+results}} (const boost\+::filesystem\+::path \&workspace, const boost\+::filesystem\+::path \&pipeline\+\_\+run\+\_\+dir, bool verbose, const std\+::map$<$ std\+::string, std\+::string $>$ \&tag\+\_\+values, const boost\+::filesystem\+::path \&output\+\_\+name)
\begin{DoxyCompactList}\small\item\em run the current rule set through python once \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a41596c76aae47768e8c815a8b78dc457}{exec}} (const std\+::string \&cmd) const
\begin{DoxyCompactList}\small\item\em execute a system command and capture its results \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a0bd43a8c7637e1d19e65fc75368b2088}{capture\+\_\+python\+\_\+tag\+\_\+values}} (const std\+::vector$<$ std\+::string $>$ \&vec, std\+::map$<$ std\+::string, std\+::string $>$ $\ast$target) const
\begin{DoxyCompactList}\small\item\em parse python reporting output to tags or tags and values \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a88ecdbd849fa3368e289b7da77da54fc}{postflight\+\_\+checks}} (std\+::map$<$ std\+::string, bool $>$ $\ast$exclude\+\_\+rules)
\begin{DoxyCompactList}\small\item\em resolve derived rules and check for sanity \end{DoxyCompactList}\item 
const boost\+::filesystem\+::path \& \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_aad6662987a0751bc55b04b5c7fd7444b}{get\+\_\+snakefile\+\_\+relative\+\_\+path}} () const
\begin{DoxyCompactList}\small\item\em report relative path of snakefile this object represents \end{DoxyCompactList}\item 
const std\+::map$<$ boost\+::filesystem\+::path, boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}} $>$ $>$ \& \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a3f9559ce24c4f072800c5762b63a64b2}{loaded\+\_\+files}} () const
\begin{DoxyCompactList}\small\item\em provide access to loaded file map \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a1dae0efed9d265fa1eabab34a3a9623c}{set\+\_\+update\+\_\+status}} (bool b)
\begin{DoxyCompactList}\small\item\em override update status in this file and all dependencies \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_ad113a1929bdc2c949d5213e88575f78e}{report\+\_\+rules}} (std\+::map$<$ std\+::string, std\+::vector$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$ $>$ $\ast$aggregated\+\_\+rules) const
\begin{DoxyCompactList}\small\item\em report loaded rules in this file and all dependencies \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_aede7de0cb3961b3dd6f64ce05f5c039c}\label{classsnakemake__unit__tests_1_1snakemake__file_aede7de0cb3961b3dd6f64ce05f5c039c}} 
std\+::list$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_aede7de0cb3961b3dd6f64ce05f5c039c}{\+\_\+blocks}}
\begin{DoxyCompactList}\small\item\em minimal contents of snakemake file as blocks of code \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a20c306130c4efcba3661143062bc9ebd}\label{classsnakemake__unit__tests_1_1snakemake__file_a20c306130c4efcba3661143062bc9ebd}} 
boost\+::filesystem\+::path \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a20c306130c4efcba3661143062bc9ebd}{\+\_\+snakefile\+\_\+relative\+\_\+path}}
\begin{DoxyCompactList}\small\item\em relative path to source snakefile from top level pipeline dir \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_aec850a304d64d91c9b5db481eed32446}\label{classsnakemake__unit__tests_1_1snakemake__file_aec850a304d64d91c9b5db481eed32446}} 
std\+::map$<$ boost\+::filesystem\+::path, boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}} $>$ $>$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_aec850a304d64d91c9b5db481eed32446}{\+\_\+included\+\_\+files}}
\begin{DoxyCompactList}\small\item\em included files to report on print statements \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a6e9584536504177ec73886799f42d845}\label{classsnakemake__unit__tests_1_1snakemake__file_a6e9584536504177ec73886799f42d845}} 
boost\+::shared\+\_\+ptr$<$ unsigned $>$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_a6e9584536504177ec73886799f42d845}{\+\_\+tag\+\_\+counter}}
\begin{DoxyCompactList}\small\item\em internal counter of assigned tags to rules \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_acfdd6cc88241d04c123ae324f7951574}\label{classsnakemake__unit__tests_1_1snakemake__file_acfdd6cc88241d04c123ae324f7951574}} 
bool \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file_acfdd6cc88241d04c123ae324f7951574}{\+\_\+updated\+\_\+last\+\_\+round}}
\begin{DoxyCompactList}\small\item\em whether any contained block updated its inclusion status last update \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
abstract representation of snakefile as a series of rules and python code chunks 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_ae97079aace9387024e96b06c405f411d}\label{classsnakemake__unit__tests_1_1snakemake__file_ae97079aace9387024e96b06c405f411d}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!snakemake\_file@{snakemake\_file}}
\index{snakemake\_file@{snakemake\_file}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{snakemake\_file()}{snakemake\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::snakemake\+\_\+file (\begin{DoxyParamCaption}\item[{boost\+::shared\+\_\+ptr$<$ unsigned $>$}]{ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



construct a snakemake file with an initialized counter 


\begin{DoxyParams}{Parameters}
{\em ptr} & pre-\/initialized counter, from root file \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a12fde0c600cb4fbb4d23edea68efe66e}\label{classsnakemake__unit__tests_1_1snakemake__file_a12fde0c600cb4fbb4d23edea68efe66e}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!snakemake\_file@{snakemake\_file}}
\index{snakemake\_file@{snakemake\_file}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{snakemake\_file()}{snakemake\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::snakemake\+\_\+file (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}} \&}]{obj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



copy constructor 


\begin{DoxyParams}{Parameters}
{\em obj} & existing \mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}} object \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a0bd43a8c7637e1d19e65fc75368b2088}\label{classsnakemake__unit__tests_1_1snakemake__file_a0bd43a8c7637e1d19e65fc75368b2088}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!capture\_python\_tag\_values@{capture\_python\_tag\_values}}
\index{capture\_python\_tag\_values@{capture\_python\_tag\_values}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{capture\_python\_tag\_values()}{capture\_python\_tag\_values()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::capture\+\_\+python\+\_\+tag\+\_\+values (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{vec,  }\item[{std\+::map$<$ std\+::string, std\+::string $>$ $\ast$}]{target }\end{DoxyParamCaption}) const}



parse python reporting output to tags or tags and values 


\begin{DoxyParams}{Parameters}
{\em vec} & captured lines from python output \\
\hline
{\em target} & results collector\\
\hline
\end{DoxyParams}
null strings in map value corresponds to rule tags \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a8517724241c35a7cdfb7ca8c91b993cc}\label{classsnakemake__unit__tests_1_1snakemake__file_a8517724241c35a7cdfb7ca8c91b993cc}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!contains\_blockers@{contains\_blockers}}
\index{contains\_blockers@{contains\_blockers}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{contains\_blockers()}{contains\_blockers()}}
{\footnotesize\ttfamily bool snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::contains\+\_\+blockers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



whether the object\textquotesingle{}s rules contain any unresolved include directives 

\begin{DoxyReturn}{Returns}
whether the object\textquotesingle{}s rules contain any unresolved include directives 
\end{DoxyReturn}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a56f7c6a5fb4499edbbfd70df2a4bce3b}\label{classsnakemake__unit__tests_1_1snakemake__file_a56f7c6a5fb4499edbbfd70df2a4bce3b}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!detect\_known\_issues@{detect\_known\_issues}}
\index{detect\_known\_issues@{detect\_known\_issues}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{detect\_known\_issues()}{detect\_known\_issues()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::detect\+\_\+known\+\_\+issues (\begin{DoxyParamCaption}\item[{std\+::map$<$ std\+::string, bool $>$ $\ast$}]{exclude\+\_\+rules }\end{DoxyParamCaption})}



report on internal discrepancies in the snakefile load results 


\begin{DoxyParams}{Parameters}
{\em exclude\+\_\+rules} & excluded rule set, for communicating problematic rules back upstream\\
\hline
\end{DoxyParams}
this is particularly designed to detect known unsupported features in snakemake/python interactions, specifically conditional inclusion of files or rules that relies on python logic and/or leads to inconsistent results if not correctly parsed.

these features are flagged to be correctly supported in a later patch \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a41596c76aae47768e8c815a8b78dc457}\label{classsnakemake__unit__tests_1_1snakemake__file_a41596c76aae47768e8c815a8b78dc457}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!exec@{exec}}
\index{exec@{exec}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{exec()}{exec()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::string $>$ snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::exec (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{cmd }\end{DoxyParamCaption}) const}



execute a system command and capture its results 


\begin{DoxyParams}{Parameters}
{\em cmd} & system command to execute \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
captured results, line by line
\end{DoxyReturn}
\href{https://stackoverflow.com/questions/478898/how-do-i-execute-a-command-and-get-the-output-of-the-command-within-c-using-po}{\texttt{ https\+://stackoverflow.\+com/questions/478898/how-\/do-\/i-\/execute-\/a-\/command-\/and-\/get-\/the-\/output-\/of-\/the-\/command-\/within-\/c-\/using-\/po}} \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_afbca744278d82904afc974dfcabfd0f9}\label{classsnakemake__unit__tests_1_1snakemake__file_afbca744278d82904afc974dfcabfd0f9}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!fully\_resolved@{fully\_resolved}}
\index{fully\_resolved@{fully\_resolved}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{fully\_resolved()}{fully\_resolved()}}
{\footnotesize\ttfamily bool snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::fully\+\_\+resolved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



whether the object\textquotesingle{}s rules are unambiguously resolved 

\begin{DoxyReturn}{Returns}
whether the object\textquotesingle{}s rules are unambiguously resolved
\end{DoxyReturn}
this will involve querying the rules for their own diagnosis of their status. this logic is not yet fully clear to me. \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a9fde24da88f8f51c78c7cbb5decd5cae}\label{classsnakemake__unit__tests_1_1snakemake__file_a9fde24da88f8f51c78c7cbb5decd5cae}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!get\_blocks@{get\_blocks}}
\index{get\_blocks@{get\_blocks}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{get\_blocks()}{get\_blocks()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::list$<$boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}}$>$ $>$\& snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::get\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



get mutable access to internal block representation 

\begin{DoxyReturn}{Returns}
non-\/const reference to internal block list 
\end{DoxyReturn}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a549735c89e4885eadbca1571fe5f8ab8}\label{classsnakemake__unit__tests_1_1snakemake__file_a549735c89e4885eadbca1571fe5f8ab8}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!get\_blocks@{get\_blocks}}
\index{get\_blocks@{get\_blocks}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{get\_blocks()}{get\_blocks()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const std\+::list$<$boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}}$>$ $>$\& snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::get\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



get const access to internal block representation 

\begin{DoxyReturn}{Returns}
const reference to internal block list 
\end{DoxyReturn}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_aad6662987a0751bc55b04b5c7fd7444b}\label{classsnakemake__unit__tests_1_1snakemake__file_aad6662987a0751bc55b04b5c7fd7444b}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!get\_snakefile\_relative\_path@{get\_snakefile\_relative\_path}}
\index{get\_snakefile\_relative\_path@{get\_snakefile\_relative\_path}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{get\_snakefile\_relative\_path()}{get\_snakefile\_relative\_path()}}
{\footnotesize\ttfamily const boost\+::filesystem\+::path\& snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::get\+\_\+snakefile\+\_\+relative\+\_\+path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



report relative path of snakefile this object represents 

\begin{DoxyReturn}{Returns}
relative path of original snakefile
\end{DoxyReturn}
path is relative to pipeline top level \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_ae1eb72bbdb5f08d16c576aac78f621c0}\label{classsnakemake__unit__tests_1_1snakemake__file_ae1eb72bbdb5f08d16c576aac78f621c0}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!load\_everything@{load\_everything}}
\index{load\_everything@{load\_everything}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{load\_everything()}{load\_everything()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::load\+\_\+everything (\begin{DoxyParamCaption}\item[{const boost\+::filesystem\+::path \&}]{filename,  }\item[{const boost\+::filesystem\+::path \&}]{base\+\_\+dir,  }\item[{std\+::map$<$ std\+::string, bool $>$ $\ast$}]{exclude\+\_\+rules,  }\item[{bool}]{verbose }\end{DoxyParamCaption})}



load and parse snakemake pipeline 


\begin{DoxyParams}{Parameters}
{\em filename} & name of top-\/level snakefile, relative to pipeline top level \\
\hline
{\em base\+\_\+dir} & pipeline top level \\
\hline
{\em exclude\+\_\+rules} & excluded rule set, for communicating problematic rules back upstream \\
\hline
{\em verbose} & whether to emit verbose logging output \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_aaa55fc451f722b94090f0f26f2671594}\label{classsnakemake__unit__tests_1_1snakemake__file_aaa55fc451f722b94090f0f26f2671594}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!load\_lines@{load\_lines}}
\index{load\_lines@{load\_lines}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{load\_lines()}{load\_lines()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::load\+\_\+lines (\begin{DoxyParamCaption}\item[{const boost\+::filesystem\+::path \&}]{filename,  }\item[{std\+::vector$<$ std\+::string $>$ $\ast$}]{target }\end{DoxyParamCaption}) const}



load all lines from a file into memory 


\begin{DoxyParams}{Parameters}
{\em filename} & name of file to load \\
\hline
{\em target} & where to store the loaded lines \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a3f9559ce24c4f072800c5762b63a64b2}\label{classsnakemake__unit__tests_1_1snakemake__file_a3f9559ce24c4f072800c5762b63a64b2}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!loaded\_files@{loaded\_files}}
\index{loaded\_files@{loaded\_files}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{loaded\_files()}{loaded\_files()}}
{\footnotesize\ttfamily const std\+::map$<$boost\+::filesystem\+::path, boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classsnakemake__unit__tests_1_1snakemake__file}{snakemake\+\_\+file}}$>$ $>$\& snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::loaded\+\_\+files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



provide access to loaded file map 

\begin{DoxyReturn}{Returns}
const reference to loaded file map 
\end{DoxyReturn}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_aad083e297205df231dd78d2cb93a1afa}\label{classsnakemake__unit__tests_1_1snakemake__file_aad083e297205df231dd78d2cb93a1afa}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!parse\_file@{parse\_file}}
\index{parse\_file@{parse\_file}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{parse\_file()}{parse\_file()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::parse\+\_\+file (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{loaded\+\_\+lines,  }\item[{std\+::list$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$\+::iterator}]{insertion\+\_\+point,  }\item[{const boost\+::filesystem\+::path \&}]{filename,  }\item[{bool}]{verbose }\end{DoxyParamCaption})}



parse a snakemake file 


\begin{DoxyParams}{Parameters}
{\em loaded\+\_\+lines} & lines of file to parse \\
\hline
{\em insertion\+\_\+point} & list iterator to where to insert content \\
\hline
{\em filename} & name of file for informative errors \\
\hline
{\em verbose} & whether to emit verbose logging output \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a88ecdbd849fa3368e289b7da77da54fc}\label{classsnakemake__unit__tests_1_1snakemake__file_a88ecdbd849fa3368e289b7da77da54fc}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!postflight\_checks@{postflight\_checks}}
\index{postflight\_checks@{postflight\_checks}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{postflight\_checks()}{postflight\_checks()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::postflight\+\_\+checks (\begin{DoxyParamCaption}\item[{std\+::map$<$ std\+::string, bool $>$ $\ast$}]{exclude\+\_\+rules }\end{DoxyParamCaption})}



resolve derived rules and check for sanity 


\begin{DoxyParams}{Parameters}
{\em exclude\+\_\+rules} & flagged rules to be excluded\\
\hline
\end{DoxyParams}
note that more content will be added here presumably once more snakemake features are supported \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_af59b77d2fd21c3bd0298b7b4cd23bd03}\label{classsnakemake__unit__tests_1_1snakemake__file_af59b77d2fd21c3bd0298b7b4cd23bd03}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!print\_blocks@{print\_blocks}}
\index{print\_blocks@{print\_blocks}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{print\_blocks()}{print\_blocks()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::print\+\_\+blocks (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{out }\end{DoxyParamCaption}) const}



print block contents to stream 


\begin{DoxyParams}{Parameters}
{\em out} & open stream to which to write data\\
\hline
\end{DoxyParams}
this function is primarily intended for debugging purposes at this time \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a838976bc749d2644d78f9b7b51aba24d}\label{classsnakemake__unit__tests_1_1snakemake__file_a838976bc749d2644d78f9b7b51aba24d}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!process\_python\_results@{process\_python\_results}}
\index{process\_python\_results@{process\_python\_results}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{process\_python\_results()}{process\_python\_results()}}
{\footnotesize\ttfamily bool snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::process\+\_\+python\+\_\+results (\begin{DoxyParamCaption}\item[{const boost\+::filesystem\+::path \&}]{workspace,  }\item[{const boost\+::filesystem\+::path \&}]{pipeline\+\_\+run\+\_\+dir,  }\item[{bool}]{verbose,  }\item[{const std\+::map$<$ std\+::string, std\+::string $>$ \&}]{tag\+\_\+values,  }\item[{const boost\+::filesystem\+::path \&}]{output\+\_\+name }\end{DoxyParamCaption})}



run the current rule set through python once 


\begin{DoxyParams}{Parameters}
{\em workspace} & top level directory with added files and directories installed \\
\hline
{\em pipeline\+\_\+run\+\_\+dir} & where the actual pipeline was initially installed \\
\hline
{\em verbose} & whether to provide verbose logging output \\
\hline
{\em tag\+\_\+values} & reporter data from python pass \\
\hline
{\em output\+\_\+name} & full output path of snakefile \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
processing status; deprecated, flagged for removal
\end{DoxyReturn}
this is the recursive entry point for a recursion pass through python reporting. this should be called for each file in turn. \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_ad113a1929bdc2c949d5213e88575f78e}\label{classsnakemake__unit__tests_1_1snakemake__file_ad113a1929bdc2c949d5213e88575f78e}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!report\_rules@{report\_rules}}
\index{report\_rules@{report\_rules}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{report\_rules()}{report\_rules()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::report\+\_\+rules (\begin{DoxyParamCaption}\item[{std\+::map$<$ std\+::string, std\+::vector$<$ boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsnakemake__unit__tests_1_1rule__block}{rule\+\_\+block}} $>$ $>$ $>$ $\ast$}]{aggregated\+\_\+rules }\end{DoxyParamCaption}) const}



report loaded rules in this file and all dependencies 


\begin{DoxyParams}{Parameters}
{\em aggregated\+\_\+rules} & target for reporting \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a670a12df840072527baf6dd9ca213f2e}\label{classsnakemake__unit__tests_1_1snakemake__file_a670a12df840072527baf6dd9ca213f2e}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!report\_single\_rule@{report\_single\_rule}}
\index{report\_single\_rule@{report\_single\_rule}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{report\_single\_rule()}{report\_single\_rule()}}
{\footnotesize\ttfamily bool snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::report\+\_\+single\+\_\+rule (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{rule\+\_\+name,  }\item[{std\+::ostream \&}]{out }\end{DoxyParamCaption}) const}



report all code blocks but a single requested rule to file 


\begin{DoxyParams}{Parameters}
{\em rule\+\_\+name} & string name of requested rule \\
\hline
{\em out} & open output stream to which to write data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether the rule was present in this file 
\end{DoxyReturn}
\mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a79cfa9d4504725992bb3cd6f10168fe2}\label{classsnakemake__unit__tests_1_1snakemake__file_a79cfa9d4504725992bb3cd6f10168fe2}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!resolve\_derived\_rules@{resolve\_derived\_rules}}
\index{resolve\_derived\_rules@{resolve\_derived\_rules}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{resolve\_derived\_rules()}{resolve\_derived\_rules()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::resolve\+\_\+derived\+\_\+rules (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



populate derived rules with base rule blocks 

required after full load for snakemake 6.\+0 compatibility \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_ad1515c0faa892aa1e1b66a98d81f43f6}\label{classsnakemake__unit__tests_1_1snakemake__file_ad1515c0faa892aa1e1b66a98d81f43f6}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!resolve\_with\_python@{resolve\_with\_python}}
\index{resolve\_with\_python@{resolve\_with\_python}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{resolve\_with\_python()}{resolve\_with\_python()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::resolve\+\_\+with\+\_\+python (\begin{DoxyParamCaption}\item[{const boost\+::filesystem\+::path \&}]{workspace,  }\item[{const boost\+::filesystem\+::path \&}]{pipeline\+\_\+run\+\_\+dir,  }\item[{bool}]{verbose,  }\item[{bool}]{disable\+\_\+resolution }\end{DoxyParamCaption})}



run the current rule set through python once 


\begin{DoxyParams}{Parameters}
{\em workspace} & top level directory with added files and directories installed \\
\hline
{\em pipeline\+\_\+run\+\_\+dir} & where the actual pipeline was initially installed \\
\hline
{\em verbose} & whether to provide verbose logging output \\
\hline
{\em disable\+\_\+resolution} & deactivate downstream processing on recursive calls\\
\hline
\end{DoxyParams}
this is the top level entry point for a recursion pass through python reporting. this should only be called from the primary caller. \mbox{\Hypertarget{classsnakemake__unit__tests_1_1snakemake__file_a1dae0efed9d265fa1eabab34a3a9623c}\label{classsnakemake__unit__tests_1_1snakemake__file_a1dae0efed9d265fa1eabab34a3a9623c}} 
\index{snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}!set\_update\_status@{set\_update\_status}}
\index{set\_update\_status@{set\_update\_status}!snakemake\_unit\_tests::snakemake\_file@{snakemake\_unit\_tests::snakemake\_file}}
\doxysubsubsection{\texorpdfstring{set\_update\_status()}{set\_update\_status()}}
{\footnotesize\ttfamily void snakemake\+\_\+unit\+\_\+tests\+::snakemake\+\_\+file\+::set\+\_\+update\+\_\+status (\begin{DoxyParamCaption}\item[{bool}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



override update status in this file and all dependencies 


\begin{DoxyParams}{Parameters}
{\em b} & new value for update status \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
snakemake\+\_\+unit\+\_\+tests/\mbox{\hyperlink{snakemake__file_8h}{snakemake\+\_\+file.\+h}}\item 
snakemake\+\_\+unit\+\_\+tests/\mbox{\hyperlink{snakemake__file_8cc}{snakemake\+\_\+file.\+cc}}\end{DoxyCompactItemize}
